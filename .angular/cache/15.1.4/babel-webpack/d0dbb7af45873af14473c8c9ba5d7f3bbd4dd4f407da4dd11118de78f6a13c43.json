{"ast":null,"code":"import _asyncToGenerator from \"/Users/jakubkocieba/Code/gifLibMonoRepo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component, ElementRef, EventEmitter, Input, Output, ViewChild } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\nimport { MainService } from \"../../../shared/services/main.service\";\nimport { CopiedNotificationComponent } from \"./shared/copied-notification.component\";\nlet LibraryImageComponent = class LibraryImageComponent {\n  constructor(router, notify, mainServ) {\n    this.router = router;\n    this.notify = notify;\n    this.mainServ = mainServ;\n    this.toolsVisible = false;\n  }\n  ngOnInit() {\n    this.imageSrc = this.getLibImgSrc();\n  }\n  image($event) {\n    console.log($event);\n  }\n  imageDetail() {\n    this.router.navigate([\"images\", this.detailsClues.category, this.detailsClues.el]);\n  }\n  imageRemove() {\n    this.mainServ.deleteImage(this.detailsClues.category, this.img);\n  }\n  getLibImgSrc() {\n    if (this.img) {\n      return this.img.images.preview_gif.url || this.img.images.downsized.url;\n    }\n  }\n  getWidth() {\n    return this.img.images.preview_gif.width || this.img.images.downsized.width;\n  }\n  getHeight() {\n    return this.img.images.preview_gif.height || this.img.images.downsized.height;\n  }\n  toggleTools() {\n    this.toolsVisible = !this.toolsVisible;\n  }\n  copyUrl() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const bodys = document.body;\n      // this.URLtextarea.nativeElement.select();\n      const imgs = document.createElement('img');\n      imgs.src = _this.img.images.original.url;\n      bodys.appendChild(imgs);\n      const myrange = document.createRange();\n      myrange.selectNodeContents(bodys);\n      document.execCommand(\"copy\");\n      // bodys.removeChild(imgs);\n      _this.notify.openFromComponent(CopiedNotificationComponent);\n    })();\n  }\n  setDimensions() {\n    const readHeight = parseInt(this.getHeight(), 10);\n    const readWidth = parseInt(this.getWidth(), 10);\n    const wRatio = readWidth / readHeight;\n    const height = readHeight > 200 ? 200 : readHeight < 100 ? 200 : readHeight;\n    const width = readHeight > 200 ? 200 : readHeight < 100 ? 200 : readHeight;\n    console.log(width);\n    return {\n      height: height + \"px\",\n      width: width + \"px\"\n    };\n  }\n};\n__decorate([Input(), __metadata(\"design:type\", Object)], LibraryImageComponent.prototype, \"img\", void 0);\n__decorate([Input(), __metadata(\"design:type\", Object)], LibraryImageComponent.prototype, \"detailsClues\", void 0);\n__decorate([Output(), __metadata(\"design:type\", EventEmitter)], LibraryImageComponent.prototype, \"showTools\", void 0);\n__decorate([ViewChild(\"URL\", {\n  static: true\n}), __metadata(\"design:type\", ElementRef)], LibraryImageComponent.prototype, \"URLtextarea\", void 0);\nLibraryImageComponent = __decorate([Component({\n  selector: \"app-library-image\",\n  templateUrl: \"./library-image.component.html\",\n  styleUrls: [\"./library-image.component.scss\"]\n}), __metadata(\"design:paramtypes\", [Router, MatSnackBar, MainService])], LibraryImageComponent);\nexport { LibraryImageComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}